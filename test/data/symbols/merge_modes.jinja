// WARNING: This file was auto-generated by: {{ script }}
{%- macro make_symbols(tests_group, mode) -%}
xkb_symbols "{{ tests_group.name }}_{{ mode }}" {
	{% for entry in tests_group.tests %}
	{% if is_not_comment(entry) %}
	key {{ entry.key.xkb }} { {{ "".join(entry[mode].xkb) }} };
	{% else %}

	////// {{ entry }} //////
	{% endif %}
	{% endfor %}
};
{% endmacro %}
{% for tests_group in tests_groups %}

xkb_symbols "{{ tests_group.name }}_base" {
	{% for entry in tests_group.tests|select("is_not_comment") %}
	key {{ entry.key.xkb }} { {{ "".join(entry.base.xkb) }} };
	{% endfor %}
};

xkb_symbols "{{ tests_group.name }}_new" {
	{% for entry in tests_group.tests %}

	{% if is_not_comment(entry) %}
	{% if debug %}
	// base:     {{ "".join(entry.base.xkb) or "(empty)" }}
	{% endif %}
	key {{ entry.key.xkb }} { {{ "".join(entry.update.xkb) }} };
	{% if debug %}
	// augment:  {{ "".join(entry.augment.xkb) or "(empty)" }}
	// override: {{ "".join(entry.override.xkb) or "(empty)" }}
	{% endif %}
	{% else %}
	////// {{ entry }} //////
	{% endif %}
	{% endfor %}
};

{{ make_symbols(tests_group, "augment") }}

{{ make_symbols(tests_group, "override") }}
{% endfor %}
{%- for g in range(2) %}

xkb_symbols "group{{ g + 2 }}" {
	{% for key in keycodes %}
	key {{ key.xkb }} { [{{ alt_keysyms(g) | join(", ") }}] };
	{% endfor %}
};
{% endfor %}
