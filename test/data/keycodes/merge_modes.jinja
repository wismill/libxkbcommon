// WARNING: This file was auto-generated by: {{ script }}
default xkb_keycodes "base" {
{% macro make_common() %}
	minimum = 8;
	maximum = 255;

{% for id in ids %}
	<{{ id.xkb_key }}> = {{ id.id + 8 }};
{% endfor %}
{% endmacro %}
{{ make_common() }}

	<LFSH> = 50;
	<RALT> = 108;

	alias <SHFT> = <LFSH>;
	alias <ALGR> = <RALT>;

	indicator 1 = "Caps Lock";
	indicator 2 = "Num Lock";
	indicator 3 = "Scroll Lock";
	indicator 4 = "Compose";
};

{% macro make_update(name, mode, local) -%}
xkb_keycodes "{{ name }}{{ "-" + mode if local else "" }}" {
{% set mode = mode + " " if local and mode != "default" else "" %}
	{% if local %}
	include "{{ filename }}(base)"

	{% endif %}
	// Unchanged
	{{ mode }}minimum = 8;
	{{ mode }}maximum = 255;

{% for id in ids %}
	{{ mode }}<{{ id.xkb_key }}> = {{ id.id + 8 }};
{% endfor %}

	{{ mode }}<LFSH> = 50;
	{{ mode }}<RALT> = 109; // Changed

	{{ mode }}alias <SHFT> = <RALT>; // Changed
	{{ mode }}alias <ALGR> = <LFSH>;
	{{ mode }}alias <XXXX> = <LFSH>; // Changed: new

	{{ mode }}indicator 1 = "Caps Lock";   // Unchanfed
	{{ mode }}indicator 6 = "Num Lock";    // Changed index (free)
	{{ mode }}indicator 3 = "Scroll Lock"; // Changed index (not free)
	{{ mode }}indicator 4 = "XXXX";        // Changed: name
	{{ mode }}indicator 5 = "Kana";        // New

};
{% endmacro %}

{{ make_update("new", "update", false) }}
{{ make_update("new", "default", true) }}
{{ make_update("new", "augment", true) }}
{{ make_update("new", "override", true) }}
{{ make_update("new", "replace", true) }}
{{ make_update("default", "default", false) -}}

xkb_keycodes "augment" {
{{ make_common() }}
	<LFSH> = 50;
	<RALT> = 108;

	alias <SHFT> = <LFSH>;
	alias <ALGR> = <RALT>;
	alias <XXXX> = <LFSH>;

	indicator 1 = "Caps Lock";
	indicator 2 = "Num Lock";
	indicator 3 = "Scroll Lock";
	indicator 4 = "Compose";
	indicator 5 = "Kana";
};

{{ make_update("override", "override", false) }}
{{ make_update("replace", "replace", false) -}}
